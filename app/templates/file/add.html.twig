{% extends 'layout.html.twig' %}

{% block title %}{{ 'title.file_add'|trans }}{% endblock %}

{% block content %}

    {% if false == form.vars.valid %}
        {% include 'default/_single_alert_message.html.twig' with {
        is_single_message: true,
        is_dismissible: false,
        type: 'danger',
        message: 'message.form_error',
        } %}
    {% endif %}

    {% form_theme form with ['form/form_errors.html.twig'] %}
    {% include('default/_submenu.html.twig') %}

    <section class="site-main section">

        <div class="pure-g pure-g-wide">
            <div class="pure-u-1">

                <h3 class="header-icon">
                    <span class="icon icon-upload" aria-hidden="true"></span>
                    <span>{{ 'title.file_add'|trans }}</span>
                </h3>

                <!-- Panels -->
                <div class="pure-g panels task-view">
                    <div class="pure-u panel">
                        <div class="panel-body">
                            <div class="panel-content">
                                {{ form_start(form, { method: 'post', attr: { 'id': 'file', 'class': 'pure-form pure-form-stacked form' }, action: url('file_add', { 'project_id': project.id }) }) }}
                                {{ form_widget(form) }}
                                {{ form_end(form) }}
                            </div>
                            <div class="panel-foot">
                                <ul class="controls">
                                    <li>
                                        <button form="file" class="success">
                                            <span class="icon icon-check" aria-hidden="true"></span>
                                            <span>{{ 'button.save'|trans }}</span>
                                        </button>
                                    </li>
                                    <li>
                                        <a href="{{ url('file_index', { 'project_id': project.id }) }}">
                                            <span class="icon icon-cross" aria-hidden="true"></span>
                                            <span>{{ 'button.cancel'|trans }}</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </section>
{% endblock %}